
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://entity-toolkit.github.io/wiki/content/useful/cluster-setups/">
      
      
        <link rel="prev" href="../costtool/">
      
      
        <link rel="next" href="../float-comparison/">
      
      
      <link rel="icon" href="../../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Cluster setups - Entity: wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%2020c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208m0-18A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202m1%205h-2v4H7v2h4v4h2v-4h4v-2h-4z%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"DM Sans";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
  
  <link rel="stylesheet" href="../../../js/vendor/katex/katex.min.css">
  <script src="../../../js/vendor/katex/katex.min.js"></script>
  <script src="../../../js/vendor/katex/contrib/auto-render.min.js"></script>
  <script src="../../../js/hooks/katex.js" defer></script>
  
  
  
  

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="ntt-light" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cluster-setups" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Entity: wiki" class="md-header__button md-logo" aria-label="Entity: wiki" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Entity: wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cluster setups
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="ntt-light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="ntt-dark" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/entity-toolkit/entity" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.546 10.93 13.067.452a1.55 1.55 0 0 0-2.188 0L8.708 2.627l2.76 2.76a1.838 1.838 0 0 1 2.327 2.341l2.658 2.66a1.838 1.838 0 0 1 1.9 3.039 1.837 1.837 0 0 1-2.6 0 1.85 1.85 0 0 1-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348a1.85 1.85 0 0 1 0 2.6 1.844 1.844 0 0 1-2.609 0 1.834 1.834 0 0 1 0-2.598c.182-.18.387-.316.605-.406V8.835a1.834 1.834 0 0 1-.996-2.41L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477a1.545 1.545 0 0 0 2.186 0l10.43-10.43a1.544 1.544 0 0 0 0-2.187"/></svg>
  </div>
  <div class="md-source__repository">
    entity
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Entity: wiki" class="md-nav__button md-logo" aria-label="Entity: wiki" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Entity: wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/entity-toolkit/entity" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.546 10.93 13.067.452a1.55 1.55 0 0 0-2.188 0L8.708 2.627l2.76 2.76a1.838 1.838 0 0 1 2.327 2.341l2.658 2.66a1.838 1.838 0 0 1 1.9 3.039 1.837 1.837 0 0 1-2.6 0 1.85 1.85 0 0 1-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348a1.85 1.85 0 0 1 0 2.6 1.844 1.844 0 0 1-2.609 0 1.834 1.834 0 0 1 0-2.598c.182-.18.387-.316.605-.406V8.835a1.834 1.834 0 0 1-.996-2.41L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477a1.545 1.545 0 0 0 2.186 0l10.43-10.43a1.544 1.544 0 0 0 0-2.187"/></svg>
  </div>
  <div class="md-source__repository">
    entity
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-getting-started/1-compile-run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compiling/running
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-getting-started/2-dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dependencies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-getting-started/3-inputfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Input parameters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1-getting-started/8-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker containers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How-To
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-To
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/1-problem_generators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Problem generators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/2-vis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Output &amp; visualization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/3-units/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Understanding the units
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/4-checkpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Writing checkpoints &amp; restarting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/5-docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Editing the documentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/6-guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code guidelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2-howto/7-faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    F.A.Q.
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Understanding the Code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Understanding the Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-code/1-pic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PIC Algorithm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-code/2-hierarchy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hierarchy of structures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-code/3-domains/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metadomain, subdomains and meshes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-code/4-fields_particles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fields and particles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-code/5-metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3-code/6-higherorder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Higher order methods
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Useful Things
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Useful Things
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../costtool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simulation cost estimator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Cluster setups
    
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Theory
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../float-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Floating point comparison
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../theory_pic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Theory behind PIC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kerr metric
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Fun
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Fun
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fun/pushers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Particle pushers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fun/coords/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Axisymmetric coordinates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fun/cubed_sphere/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cubed-sphere geometry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fun/particle-shapes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2D particle shapes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/sceecs2024/instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SCEECS Summer School 2024
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  
  


<h1 id="cluster-setups">Cluster setups<a class="headerlink" href="#cluster-setups" title="Permanent link">&para;</a></h1>
<p>This section goes over some instructions on how to compile &amp; run the <code>Entity</code> on some of the most widely utilized clusters. While the main libraries we rely on, <code>Kokkos</code> and <code>ADIOS2</code> can be built in-tree (i.e., together with the code when you launch the compiler), it is nonetheless recommended to pre-install them separately (if not already installed on the cluster) and use them as external dependencies, since that will significantly cut down the compilation time.</p>
<div class="admonition note">
<p class="admonition-title">Contribute!</p>
<p>If you don't see a cluster you are running the code on here, please be kind to those that will come after us and contribute instructions for that specific cluster. <code>Entity</code> is only as strong as the community supporting it, and by contributing a few sentences, you may have an immense effect in the longrun.</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="1:13"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><input id="__tabbed_1_6" name="__tabbed_1" type="radio" /><input id="__tabbed_1_7" name="__tabbed_1" type="radio" /><input id="__tabbed_1_8" name="__tabbed_1" type="radio" /><input id="__tabbed_1_9" name="__tabbed_1" type="radio" /><input id="__tabbed_1_10" name="__tabbed_1" type="radio" /><input id="__tabbed_1_11" name="__tabbed_1" type="radio" /><input id="__tabbed_1_12" name="__tabbed_1" type="radio" /><input id="__tabbed_1_13" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1"><code>Stellar</code> (Princeton)</label><label for="__tabbed_1_2"><code>Zaratan</code> (UMD)</label><label for="__tabbed_1_3"><code>Rusty</code> (CCA)</label><label for="__tabbed_1_4"><code>Vista</code> (TACC)</label><label for="__tabbed_1_5"><code>DeltaAI</code> (NCSA)</label><label for="__tabbed_1_6"><code>Perlmutter</code> (NERSC)</label><label for="__tabbed_1_7"><code>Frontier</code> (ORNL)</label><label for="__tabbed_1_8">(IAS)</label><label for="__tabbed_1_9"><code>Aurora</code> (ANL)</label><label for="__tabbed_1_10"><code>LUMI</code> (CSC)</label><label for="__tabbed_1_11"><code>Trillium</code> (SciNet, Canada)</label><label for="__tabbed_1_12"><code>Sherlock</code> (Stanford)</label><label for="__tabbed_1_13"><code>SuperMUC-NG2</code> (LRZ)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a href="https://researchcomputing.princeton.edu/systems/stellar"><code>Stellar</code></a> cluster at Princeton University has 6 nodes with 2 NVIDIA A100 GPUs (Ampere 8.0 microarchitecture) each and 128-core AMD EPYC Rome CPUs (Zen2 microarchitecture).</p>
<p><strong>Installing the dependencies</strong></p>
<p>The most straightforward way to set things up on the <code>Stellar</code> cluster, is to use <code>spack</code> <a href="../../1-getting-started/2-dependencies/#spack-recommended">as described here</a>. After downloading and initializing the shell-env, load the proper modules to-be-used during compilation:
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>gcc-toolset/10
module<span class="w"> </span>load<span class="w"> </span>cudatoolkit/12.5
module<span class="w"> </span>load<span class="w"> </span>openmpi/gcc-toolset-10/4.1.0
</code></pre></div></p>
<p>Then manually add the following two entries to <code>~/.spack/packages.yaml</code>:
<div class="language-yaml highlight"><pre><span></span><code><span class="nt">packages</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cuda</span><span class="p">:</span>
<span class="w">    </span><span class="nt">buildable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">externals</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">spec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cuda@12.5</span>
<span class="w">      </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/cuda-12.5</span>
<span class="w">  </span><span class="nt">openmpi</span><span class="p">:</span>
<span class="w">    </span><span class="nt">buildable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">externals</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">spec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openmpi@4.1.0</span>
<span class="w">      </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr/local/openmpi/4.1.0/gcc-toolset-10</span>
</code></pre></div></p>
<p>And run <code>spack compiler add</code> and <code>spack external find</code>. Since the login nodes (on which all the libraries will be compiled) are different from the compute nodes on <code>Stellar</code>, you will need to allow spack to compile for non-native CPU architectures by running:
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>config<span class="w"> </span>add<span class="w"> </span>concretizer:targets:host_compatible:false
</code></pre></div></p>
<p>Now we can install 3 libraries we will need: <code>HDF5</code>, <code>ADIOS2</code> and <code>Kokkos</code>. First create and activate a new environment:
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>entity-env
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
</code></pre></div></p>
<p>To install the packages within the spack environment, run the following commands:
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>add<span class="w"> </span>hdf5<span class="w"> </span>+mpi<span class="w"> </span>+cxx<span class="w"> </span><span class="nv">target</span><span class="o">=</span>zen2
spack<span class="w"> </span>add<span class="w"> </span>adios2<span class="w"> </span>+hdf5<span class="w"> </span>+pic<span class="w"> </span><span class="nv">target</span><span class="o">=</span>zen2
spack<span class="w"> </span>add<span class="w"> </span>kokkos<span class="w"> </span>+cuda<span class="w"> </span>+wrapper<span class="w"> </span><span class="nv">cuda_arch</span><span class="o">=</span><span class="m">80</span><span class="w"> </span>+pic<span class="w"> </span>+aggressive_vectorization<span class="w"> </span><span class="nv">target</span><span class="o">=</span>zen2
</code></pre></div></p>
<p>You might want to first run these commands with <code>spec</code> instead of <code>add</code> to make sure spack recognizes the correct <code>cuda</code> &amp; <code>openmpi</code> (they should be marked as <code>[e]</code> and should point to a local directory specified above). After <code>add</code>-ing you can launch the installer via <code>spack install</code> and wait until all installations are done.</p>
<p><strong>Compiling &amp; running the code</strong></p>
<p>To compile the code, first activate the environment (if not already), then manually using both <code>modules</code> and <code>spack</code> load all the necessary libraries: 
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>gcc-toolset/10
module<span class="w"> </span>load<span class="w"> </span>cudatoolkit/12.5
module<span class="w"> </span>load<span class="w"> </span>openmpi/gcc-toolset-10/4.1.0
spack<span class="w"> </span>load<span class="w"> </span>gcc<span class="w"> </span>cuda<span class="w"> </span>openmpi<span class="w"> </span>kokkos<span class="w"> </span>adios2
</code></pre></div></p>
<p>During the compilation, passing any <code>-D Kokkos_***</code> or <code>-D ADIOS2_***</code> flags is not necessary, while <code>-D mpi=ON/OFF</code> is still needed, since in theory the code can also be compiled without MPI.</p>
<p>To run the code, the submit script should look something like this:
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="kp">#SBATCH -n 4 (1)</span>
<span class="kp">#SBATCH -t 00:30:00</span>
<span class="kp">#SBATCH -J entity-run</span>
<span class="kp">#SBATCH --gres=gpu:2 (2)</span>
<span class="kp">#SBATCH --gpus=4 (3)</span>
<span class="c1"># .. other sbatch directives</span>

module<span class="w"> </span>load<span class="w"> </span>gcc-toolset/10
module<span class="w"> </span>load<span class="w"> </span>cudatoolkit/12.5
module<span class="w"> </span>load<span class="w"> </span>openmpi/gcc-toolset-10/4.1.0
.<span class="w"> </span>&lt;HOME&gt;/spack/share/spack/setup-env.sh
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
spack<span class="w"> </span>load<span class="w"> </span>gcc<span class="w"> </span>cuda<span class="w"> </span>openmpi<span class="w"> </span>kokkos<span class="w"> </span>adios2

<span class="nb">srun</span><span class="w"> </span>entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUT&gt;.toml
</code></pre></div></p>
<ol>
<li>total number of tasks (GPUs)</li>
<li>requesting nodes with 2 GPUs per node</li>
<li>total number of GPUs</li>
</ol>
<p><em>Last updated: 4/28/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://hpcc.umd.edu/hpcc/zaratan.html"><code>Zaratan</code></a> cluster at the University of Maryland has 20 nodes with 4 NVIDIA A100 GPUs (Ampere 8.0) and a 128-core AMD EPYC (Zen2) CPUs each, as well as 8 nodes with NVIDIA H100 GPUs (Hopper 9.0) and Intel Xeon Platinum 8468 (Sapphire Rapids). Below, we describe how to run the code on the A100 nodes; for the H100 nodes the procedure is similar with the only exception being that different flags need to be specified when installing the <code>Kokkos</code> library (plus, you might need to manually specify <code>target=&lt;CPUARCH&gt;</code> as the login nodes have a different microarchitecture than the H100 compute nodes).</p>
<p><strong>Installing the dependencies</strong></p>
<p>We will rely on spack to compile on Zaratan. But first of all, the correct compiler should be loaded:</p>
<p><div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>gcc/11.3.0
</code></pre></div>
After that, add the following to <code>~/.spack/packages.yaml</code>:
<div class="language-yaml highlight"><pre><span></span><code><span class="nt">packages</span><span class="p">:</span>
<span class="w">  </span><span class="nt">cuda</span><span class="p">:</span>
<span class="w">    </span><span class="nt">buildable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">externals</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/cvmfs/hpcsw.umd.edu/spack-software/2023.11.20/linux-rhel8-x86_64/gcc-11.3.0/cuda-12.3.0-fvfg7yyq63nunqvkn7a5fzh6e77quxty</span>
<span class="w">      </span><span class="nt">spec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cuda@12.3</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">modules</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cuda/12.3</span>
<span class="w">      </span><span class="nt">spec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cuda@12.3</span>
<span class="w">  </span><span class="nt">cmake</span><span class="p">:</span>
<span class="w">     </span><span class="nt">buildable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">     </span><span class="nt">externals</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/usr</span>
<span class="w">       </span><span class="nt">spec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cmake@3.26.5</span>
</code></pre></div>
Next, you should create a virtual environment and activate it
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>entity-env
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
</code></pre></div>
From within the environment, install the required packages within the environment running the following command: 
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>add<span class="w"> </span>hdf5<span class="w"> </span>+mpi<span class="w"> </span>+cxx
spack<span class="w"> </span>add<span class="w"> </span>adios2<span class="w"> </span>+hdf5<span class="w"> </span>+pic
spack<span class="w"> </span>add<span class="w"> </span>kokkos<span class="w"> </span>+cuda<span class="w"> </span>+wrapper<span class="w"> </span><span class="nv">cuda_arch</span><span class="o">=</span><span class="m">80</span><span class="w"> </span>+pic<span class="w"> </span>+aggressive_vectorization
spack<span class="w"> </span>add<span class="w"> </span>openmpi<span class="w"> </span>+cuda
</code></pre></div>
After that, install the packages with <code>spack install</code>. Now, to load the packages within the environment, do:<br />
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>load<span class="w"> </span>hdf5<span class="w"> </span>adios2<span class="w"> </span>kokkos<span class="w"> </span>openmpi
</code></pre></div></p>
<p><strong>Compiling &amp; running the code</strong></p>
<p>Compilation of the code is performed as usual, and there is no need for any additional <code>-D Kokkos_***</code> or <code>-D ADIOS2_***</code> flags. The batch script for submitting the job should look like this:
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="kp">#SBATCH -p gpu</span>
<span class="kp">#SBATCH -t 00:30:00</span>
<span class="kp">#SBATCH -n 1</span>
<span class="kp">#SBATCH -c 1</span>
<span class="kp">#SBATCH --gpus=a100_1g.5gb:1</span>
<span class="kp">#SBATCH --output=test.out</span>
<span class="kp">#SBATCH --error=test.err</span>

module<span class="w"> </span>load<span class="w"> </span>gcc/11.3.0
.<span class="w"> </span>&lt;HOME&gt;/spack/share/spack/setup-env.sh
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
spack<span class="w"> </span>load<span class="w"> </span>hdf5<span class="w"> </span>kokkos<span class="w"> </span>adios2<span class="w"> </span>cuda<span class="w"> </span>openmpi

mpirun<span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUT&gt;.toml<span class="w"> </span>
</code></pre></div></p>
<p><em>Last updated: 4/29/2025</em></p>
</div>
<div class="tabbed-block">
<p><code>Rusty</code> cluster at Flatiron Institute has 36 nodes with 4 NVIDIA A100-80GB each and 36 nodes with 4 NVIDIA A100-40GB GPUs each and 64-core Icelake CPUs. It also has 18 nodes with 8 NVIDIA H100-80GB GPUs each and same CPU architecture. We will use nodes with A100 GPUs for the example below.</p>
<p><strong>Installing the dependencies</strong></p>
<p>The most straightforward way to set things up on the <code>Rusty</code> cluster, is to use <code>spack</code> <a href="../../1-getting-started/2-dependencies/#spack-recommended">as described here</a>. After downloading and initializing the <code>spack</code> shell-env, start an interactive session to make compilation faster:
<div class="language-sh highlight"><pre><span></span><code>srun<span class="w"> </span>-C<span class="w"> </span>a100<span class="w"> </span>-p<span class="w"> </span>gpu<span class="w"> </span>-N1<span class="w"> </span>-n1<span class="w"> </span>-c32<span class="w"> </span>--gpus-per-task<span class="o">=</span><span class="m">1</span><span class="w"> </span>--pty<span class="w"> </span>bash<span class="w"> </span>-i
</code></pre></div></p>
<p>Next, you can create a virtual environment and activate it:
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>entity-env
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
</code></pre></div></p>
<p>Then load the proper modules to-be-used during compilation, add compiler to spack, and find external libraries:
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>purge
ml<span class="w"> </span>modules/2.4-20250724<span class="w"> </span>gcc/13.3.0<span class="w"> </span>cuda/12.5.1<span class="w"> </span>openmpi/cuda-4.1.8<span class="w"> </span>hdf5/mpi-1.12.3
spack<span class="w"> </span>compiler<span class="w"> </span>add
spack<span class="w"> </span>external<span class="w"> </span>find
spack<span class="w"> </span>external<span class="w"> </span>find<span class="w"> </span>cuda
spack<span class="w"> </span>external<span class="w"> </span>find<span class="w"> </span>openmpi
spack<span class="w"> </span>external<span class="w"> </span>find<span class="w"> </span>hdf5
</code></pre></div>
You can check that the corrrect external libraries were found by <code>spack spec [library]</code>.</p>
<p>Now we can install 2 libraries we will need: <code>Kokkos</code> and <code>ADIOS2</code>.
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>add<span class="w"> </span>kokkos<span class="w"> </span>+cuda<span class="w"> </span>+wrapper<span class="w"> </span><span class="nv">cuda_arch</span><span class="o">=</span><span class="m">80</span><span class="w"> </span>+pic<span class="w"> </span>+aggressive_vectorization
spack<span class="w"> </span>add<span class="w"> </span>adios2<span class="w"> </span>+hdf5<span class="w"> </span>+pic
spack<span class="w"> </span>install
</code></pre></div></p>
<p>Note: if you wish to install this from the login nodes, you need to allow compilation on non-native architectures and specify target architecture (<code>linux-rocky8-icelake</code> for A100 GPUs nodes on <code>Rusty</code>):
<div class="language-sh highlight"><pre><span></span><code>spack<span class="w"> </span>config<span class="w"> </span>add<span class="w"> </span>concretizer:targets:host_compatible:false
spack<span class="w"> </span>add<span class="w"> </span>kokkos<span class="w"> </span>+cuda<span class="w"> </span>+wrapper<span class="w"> </span><span class="nv">cuda_arch</span><span class="o">=</span><span class="m">80</span><span class="w"> </span>+pic<span class="w"> </span>+aggressive_vectorization<span class="w"> </span><span class="nv">target</span><span class="o">=</span>linux-rocky8-icelake<span class="w"> </span>
spack<span class="w"> </span>add<span class="w"> </span>adios2<span class="w"> </span>+hdf5<span class="w"> </span>+pic<span class="w"> </span><span class="nv">target</span><span class="o">=</span>linux-rocky8-icelake<span class="w"> </span>
</code></pre></div></p>
<p>You might want to first run these commands with <code>spec</code> instead of <code>add</code> to make sure spack recognizes the correct <code>gcc</code>, <code>cuda</code>, <code>openmpi</code>, and <code>hdf5</code> (they should be marked as <code>[e]</code> and should point to a local directory specified above).</p>
<p><strong>Compiling &amp; running the code</strong></p>
<p>To compile the code, load the modules and activate the spack enviroment: 
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>purge
ml<span class="w"> </span>modules/2.4-20250724<span class="w"> </span>gcc/13.3.0<span class="w"> </span>cuda/12.5.1<span class="w"> </span>openmpi/cuda-4.1.8<span class="w"> </span>hdf5/mpi-1.12.3
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
</code></pre></div></p>
<p>During the compilation, passing any <code>-D Kokkos_***</code> or <code>-D ADIOS2_***</code> flags is not necessary, while <code>-D mpi=ON/OFF</code> is still needed, since in theory the code can also be compiled without MPI.</p>
<p>To run the code, the submit script should look something like this:
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="kp">#SBATCH -p gpu</span>
<span class="kp">#SBATCH --gpus-per-task=1</span>
<span class="kp">#SBATCH --cpus-per-task=16</span>
<span class="kp">#SBATCH --ntasks-per-node=4</span>
<span class="kp">#SBATCH --nodes=1 (*)</span>
<span class="kp">#SBATCH --gres=gpu:4</span>
<span class="kp">#SBATCH --constraint=a100-80gb</span>
<span class="kp">#SBATCH --time=00:30:00</span>

<span class="c1"># .. other sbatch directives</span>

module<span class="w"> </span>purge
ml<span class="w"> </span>modules/2.4-20250724<span class="w"> </span>gcc/13.3.0<span class="w"> </span>cuda/12.5.1<span class="w"> </span>openmpi/cuda-4.1.8<span class="w"> </span>hdf5/mpi-1.12.3
.<span class="w"> </span>&lt;HOME&gt;/spack/share/spack/setup-env.sh
spack<span class="w"> </span>env<span class="w"> </span>activate<span class="w"> </span>entity-env
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_PRELOAD</span><span class="o">=</span>/mnt/sw/fi/cephtweaks/lib/libcephtweaks.so
<span class="nb">export</span><span class="w"> </span><span class="nv">CEPHTWEAKS_LAZYIO</span><span class="o">=</span><span class="m">1</span>

<span class="nb">srun</span><span class="w"> </span>entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUT&gt;.toml
</code></pre></div></p>
<p>(*) total number of nodes</p>
<p><em>Last updated: 10/21/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://tacc.utexas.edu/systems/vista/"><code>Vista</code></a> cluster is a part of TACC research center. It consists of 600 Grace Hopper nodes, each hosting H100 GPU and 72 Grace CPUs. </p>
<p><strong>Installing the dependencies</strong></p>
<p><code>Vista</code> does not require any specific modules to be installed. Before compiling, the following modules should be loaded:</p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>nvidia/24.7
module<span class="w"> </span>load<span class="w"> </span>cuda/12.5
module<span class="w"> </span>load<span class="w"> </span>kokkos/4.5.01-cuda
module<span class="w"> </span>load<span class="w"> </span>openmpi/5.0.5
module<span class="w"> </span>load<span class="w"> </span>adios2/2.10.2
module<span class="w"> </span>load<span class="w"> </span>phdf5/1.14.4
module<span class="w"> </span>load<span class="w"> </span>ucx/1.18.8
</code></pre></div>
<p><strong>Compiling &amp; running the code</strong></p>
<p>The code can be then configured with the following command:</p>
<p><div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">mpi</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">pgen</span><span class="o">=</span>&lt;YOUR_PGEN&gt;<span class="w">  </span>-D<span class="w"> </span><span class="nv">output</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_CUDA</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH90</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_CUDA</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_MPI</span><span class="o">=</span>ON
</code></pre></div>
While the <code>hdf5</code> output format works on <code>Vista</code>, we advise to use <code>BPFile</code>, as currently <code>hdf5</code> write is extremely slow with MPI for 2- and 3-dimensional problems. <br />
The sample submit script should look similar to this:</p>
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="kp">#SBATCH -A &lt;PROJECT NUMBER&gt;</span>
<span class="kp">#SBATCH -p gh</span>
<span class="kp">#SBATCH -t 16:00:00 #the code will run for 16 hours</span>
<span class="kp">#SBATCH -N 64       # 64 nodes will be used</span>
<span class="kp">#SBATCH -n 64       # 64 tasks in total will be launched</span>
<span class="kp">#SBATCH -J your_job_name</span>
<span class="kp">#SBATCH --output=test.out</span>
<span class="kp">#SBATCH --error=test.err</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">UCX_MEMTYPE_CACHE</span><span class="o">=</span>n
<span class="nb">export</span><span class="w"> </span><span class="nv">UCX_TLS</span><span class="o">=</span>rc,cuda_copy
<span class="nb">export</span><span class="w"> </span><span class="nv">UCX_IB_REG_METHODS</span><span class="o">=</span>rcache,direct
<span class="nb">export</span><span class="w"> </span><span class="nv">UCX_RNDV_MEMTYPE_CACHE</span><span class="o">=</span>n
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Launching application...&quot;</span>
ibrun<span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUT&gt;.toml
</code></pre></div>
<p><em>Last updated: 6/19/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://docs.ncsa.illinois.edu/systems/deltaai/en/latest/index.html"><code>DeltaAI</code></a> uses GH200 nodes. These are NVIDIA superchip nodes with 4x H100 GPUs and 4x ARM CPUs with 72 cores each.</p>
<p><strong>Installing the dependencies</strong></p>
<p>This makes the setup a bit more tedious, but luckily most dependencies are already installed.</p>
<p>You can load the installed dependencies with</p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>restore
module<span class="w"> </span>unload<span class="w"> </span>gcc-native
module<span class="w"> </span>load<span class="w"> </span>gcc-native/12
module<span class="w"> </span>load<span class="w"> </span>craype-accel-nvidia90
module<span class="w"> </span>load<span class="w"> </span>cray-hdf5-parallel
</code></pre></div>
<p>We would recommend installing <code>Kokkos</code> and <code>ADIOS2</code> from source with the following settings:</p>
<div class="language-sh highlight"><pre><span></span><code><span class="c1"># Kokkos</span>
cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w">  </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_STANDARD</span><span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_EXTENSIONS</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_POSITION_INDEPENDENT_CODE</span><span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_C_COMPILER</span><span class="o">=</span>cc<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_COMPILER</span><span class="o">=</span>CC<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH_ARMV9_GRACE</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH_HOPPER90</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_CUDA</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_DEBUG</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span>/path/to/install/location/for/kokkos<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
cmake<span class="w"> </span>--install<span class="w"> </span>build<span class="w"> </span>

<span class="c1"># ADIOS2</span>
cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w">  </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_STANDARD</span><span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_EXTENSIONS</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_POSITION_INDEPENDENT_CODE</span><span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">BUILD_SHARED_LIBS</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_HDF5</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_Python</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_Fortran</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_ZeroMQ</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">BUILD_TESTING</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_C_COMPILER</span><span class="o">=</span>cc<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_COMPILER</span><span class="o">=</span>CC<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_BUILD_EXAMPLES</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_MPI</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_BLOSC</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">HDF5_ROOT</span><span class="o">=</span>/opt/cray/pe/hdf5-parallel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span>/path/to/install/location/for/adios2<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
cmake<span class="w"> </span>--install<span class="w"> </span>build
</code></pre></div>
<p>You can then add module files for both libraries (as described <a href="../../1-getting-started/2-dependencies/#building-dependencies-from-source">here</a>) or add them to your path directly. Just be sure to export the relevant <code>kokkos</code> settings.
<div class="language-sh highlight"><pre><span></span><code><span class="c1"># in the kokkos module file</span>
setenv<span class="w">  </span>Kokkos_ENABLE_CUDA<span class="w">              </span>ON
setenv<span class="w">  </span>Kokkos_ARCH_ARMV9_GRACE<span class="w">         </span>ON
setenv<span class="w">  </span>Kokkos_ARCH_HOPPER90<span class="w">            </span>ON
</code></pre></div></p>
<p><strong>Compiling &amp; running the code</strong></p>
<p><code>DeltaAI</code>'s <code>mpich</code> seems to not be <code>CUDA</code> aware (or it's bugged), so you will always need to add the flag <code>gpu_aware_mpi=OFF</code>.</p>
<p>Your <code>cmake</code> setting should look something like this:
<div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">pgen</span><span class="o">=</span>&lt;PGEN&gt;<span class="w"> </span>-D<span class="w"> </span><span class="nv">mpi</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_COMPILER</span><span class="o">=</span>CC<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_C_COMPILER</span><span class="o">=</span>cc<span class="w"> </span>-D<span class="w"> </span><span class="nv">gpu_aware_mpi</span><span class="o">=</span>OFF
</code></pre></div></p>
<p>Finally an example <code>SLURM</code> script using the full node looks like this:</p>
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="kp">#SBATCH --nodes=2</span>
<span class="kp">#SBATCH --ntasks-per-node=4</span>
<span class="kp">#SBATCH --cpus-per-task=72</span>
<span class="kp">#SBATCH --gpus-per-node=4</span>
<span class="kp">#SBATCH --partition=ghx4</span>
<span class="kp">#SBATCH --time=48:00:00</span>
<span class="kp">#SBATCH --gpu-bind=verbose,closest</span>
<span class="kp">#SBATCH --job-name=example</span>
<span class="kp">#SBATCH -o ./log/%x.%j.out</span>
<span class="kp">#SBATCH -e ./log/%x.%j.err</span>
<span class="kp">#SBATCH --account=your-account</span>

module<span class="w"> </span>restore
module<span class="w"> </span>unload<span class="w"> </span>gcc-native
module<span class="w"> </span>load<span class="w"> </span>gcc-native/12
module<span class="w"> </span>load<span class="w"> </span>craype-accel-nvidia90
module<span class="w"> </span>use<span class="w"> </span>--append<span class="w"> </span>/path/to/your/.modfiles
module<span class="w"> </span>load<span class="w"> </span>kokkos/4.6.00
module<span class="w"> </span>load<span class="w"> </span>entity/cuda
module<span class="w"> </span>load<span class="w"> </span>adios2/2.10.2
module<span class="w"> </span>list

<span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_GPU_SUPPORT_ENABLED</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_OFI_VERBOSE</span><span class="o">=</span><span class="m">1</span>

<span class="nb">srun</span><span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUT&gt;.toml
</code></pre></div>
<p><em>Last updated: 4/28/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://docs.nersc.gov/systems/perlmutter/architecture/"><code>Perlmutter</code></a> is a DoE cluster in LBNL with 4x NVIDIA A100 and a AMD EPYC 7763 CPU on each node. Note, that two different GPU configurations are available with 40 and 80 GB of VRAM respectively.</p>
<p><strong>Installing the dependencies</strong></p>
<p>The easiest way to use the code here is to compile and install your own modules manually. First, load the modules you will need for that:</p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>PrgEnv-gnu<span class="w"> </span>cray-hdf5-parallel<span class="w"> </span>cmake/3.24.3
</code></pre></div>
<p>Download the <code>Kokkos</code> source code, configure/compile and install it (in this example, we install it in the <code>~/opt</code> directory.</p>
<div class="language-sh highlight"><pre><span></span><code>wget<span class="w"> </span>https://github.com/kokkos/kokkos/releases/download/4.6.01/kokkos-4.6.01.tar.gz
tar<span class="w"> </span>xvf<span class="w"> </span>kokkos-4.6.01.tar.gz
<span class="nb">cd</span><span class="w"> </span>kokkos-4.6.01
cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_STANDARD</span><span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_BUILD_TYPE</span><span class="o">=</span>Release<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_EXTENSIONS</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_POSITION_INDEPENDENT_CODE</span><span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_COMPILER</span><span class="o">=</span>CC<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_CUDA</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_IMPL_CUDA_MALLOC_ASYNC</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH_ZEN3</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH_AMPERE80</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="nv">$HOME</span>/opt/kokkos/4.6.01/
cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j
cmake<span class="w"> </span>--install<span class="w"> </span>build
</code></pre></div>
<p>Now the <code>ADIOS2</code>:</p>
<div class="language-sh highlight"><pre><span></span><code>wget<span class="w"> </span>https://github.com/ornladios/ADIOS2/archive/refs/tags/v2.10.2.tar.gz
tar<span class="w"> </span>xvf<span class="w"> </span>v2.10.2.tar.gz
<span class="nb">cd</span><span class="w"> </span>ADIOS2-2.10.2
cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_STANDARD</span><span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_EXTENSIONS</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_POSITION_INDEPENDENT_CODE</span><span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">BUILD_SHARED_LIBS</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_HDF5</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_Python</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_Fortran</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_ZeroMQ</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">BUILD_TESTING</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_BUILD_EXAMPLES</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_MPI</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_BLOSC</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">LIBFABRIC_ROOT</span><span class="o">=</span>/opt/cray/libfabric/1.15.2.0/<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="nv">$HOME</span>/opt/adios2/v2.10.2<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">MPI_ROOT</span><span class="o">=</span>/opt/cray/pe/craype/2.7.30
cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j
cmake<span class="w"> </span>--install<span class="w"> </span>build
</code></pre></div>
<p>For simplicity, it is recommended to also create the module files (e.g., in <code>~/modules</code> directory):</p>
<p>For <code>kokkos</code>:
<div class="language-sh highlight"><pre><span></span><code><span class="c1">#%Module1.0######################################################################</span>
<span class="c1">##</span>
<span class="c1">## Kokkos @ Zen3 @ Ampere80 modulefile</span>
<span class="c1">##</span>
<span class="c1">#################################################################################</span>
proc<span class="w"> </span>ModulesHelp<span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span>puts<span class="w"> </span>stderr<span class="w"> </span><span class="s2">&quot;\tKokkos\n&quot;</span>
<span class="o">}</span>

module-whatis<span class="w">      </span><span class="s2">&quot;Sets up Kokkos @ Zen3 @ Ampere80&quot;</span><span class="w">    </span>

conflict<span class="w">           </span>kokkos

<span class="nb">set</span><span class="w">                </span>basedir<span class="w">      </span>/global/homes/h/&lt;USER&gt;/opt/kokkos/4.6.01
prepend-path<span class="w">       </span>PATH<span class="w">         </span><span class="nv">$basedir</span>/bin
setenv<span class="w">             </span>Kokkos_DIR<span class="w">   </span><span class="nv">$basedir</span>
setenv<span class="w">             </span>Kokkos_ARCH_ZEN3<span class="w"> </span>ON
setenv<span class="w">             </span>Kokkos_ARCH_AMPERE80<span class="w"> </span>ON
setenv<span class="w">             </span>Kokkos_ENABLE_CUDA<span class="w"> </span>ON
</code></pre></div></p>
<p>For <code>ADIOS2</code>:
<div class="language-sh highlight"><pre><span></span><code><span class="c1">#%Module1.0######################################################################</span>
<span class="c1">##</span>
<span class="c1">## ADIOS2 modulefile</span>
<span class="c1">##</span>
<span class="c1">#################################################################################</span>
proc<span class="w"> </span>ModulesHelp<span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span>puts<span class="w"> </span>stderr<span class="w"> </span><span class="s2">&quot;\tADIOS2\n&quot;</span>
<span class="o">}</span>

module-whatis<span class="w">      </span><span class="s2">&quot;Sets up ADIOS2&quot;</span><span class="w">    </span>

conflict<span class="w">           </span>adios2

<span class="nb">set</span><span class="w">                </span>basedir<span class="w">      </span>/global/homes/h/&lt;USER&gt;/opt/adios2/v2.10.2
prepend-path<span class="w">       </span>PATH<span class="w">         </span><span class="nv">$basedir</span>/bin
setenv<span class="w">             </span>ADIOS2_DIR<span class="w">   </span><span class="nv">$basedir</span>

setenv<span class="w"> </span>ADIOS2_USE_HDF5<span class="w">      </span>ON
setenv<span class="w"> </span>ADIOS2_USE_MPI<span class="w">       </span>ON
setenv<span class="w"> </span>ADIOS2_HAVE_HDF5_VOL<span class="w"> </span>ON
setenv<span class="w"> </span>MPI_ROOT<span class="w">             </span>/opt/cray/pe/mpich/8.1.30/ofi/gnu/12.3
setenv<span class="w"> </span>HDF5_ROOT<span class="w">            </span>/opt/cray/pe/hdf5-parallel/1.14.3.1/gnu/12.3

prereq<span class="w"> </span>cray-mpich/8.1.30<span class="w"> </span>cray-hdf5-parallel/1.14.3.1
</code></pre></div></p>
<p>Make sure to explicitly set the paths, instead of using <code>~</code> or <code>$HOME</code>.</p>
<p><strong>Compiling &amp; running the code</strong></p>
<p>When compiling <code>entity</code> itself, explicitly pass the <code>cc</code> and <code>CC</code> as compilers, i.e.:
<div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>...<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_C_COMPILER</span><span class="o">=</span>cc<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_COMPILER</span><span class="o">=</span>CC
</code></pre></div></p>
<p>Use the following submit script for the slurm (example for 8 GPUs on 2 nodes; <a href="https://docs.nersc.gov/systems/perlmutter/architecture/">details on available resources</a>):
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="kp">#SBATCH --account=&lt;ALLOCATION&gt;</span>
<span class="kp">#SBATCH --constraint=gpu</span>
<span class="kp">#SBATCH --qos=&lt;QUEUE&gt;</span>
<span class="kp">#SBATCH -t &lt;TIME&gt;</span>
<span class="kp">#SBATCH -N 2</span>
<span class="kp">#SBATCH -c 1</span>
<span class="kp">#SBATCH -n 8</span>
<span class="kp">#SBATCH --gpus=8</span>
<span class="kp">#SBATCH --gpus-per-task=1</span>
<span class="kp">#SBATCH --gpu-bind=none</span>

<span class="c1"># load all the modules here</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_NO_BUFFER_ALIAS_CHECK</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_GPU_SUPPORT_ENABLED</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_OFI_NIC_POLICY</span><span class="o">=</span>GPU
<span class="nb">export</span><span class="w"> </span><span class="nv">SLURM_CPU_BIND</span><span class="o">=</span><span class="s2">&quot;cores&quot;</span>

<span class="nb">srun</span><span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>cfg.toml<span class="w"> </span>&gt;report<span class="w"> </span><span class="m">2</span>&gt;error
</code></pre></div></p>
<p><em>Last updated: 6/19/2025</em></p>
</div>
<div class="tabbed-block">
<p><em>WIP</em></p>
</div>
<div class="tabbed-block">
<p><em>WIP</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://docs.alcf.anl.gov/aurora/"><code>Aurora</code></a> uses <a href="https://www.intel.com/content/www/us/en/products/sku/232873/intel-data-center-gpu-max-1550/specifications.html">Intel PVC</a> nodes with 6 GPUs/node. Each PVC has 128GB of memory and is split into 2 tiles. It is recommended to use 1 MPI rank per tile, so 2 per GPU and 12 per node.
Development of entity for <code>Aurora</code> is currently ongoing. Use the following docs with caution and check in with <code>@LudwigBoess</code> on potential changes.</p>
<p><strong>Modules to load</strong></p>
<p>You can load the installed dependencies with</p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>adios2
module<span class="w"> </span>load<span class="w"> </span>autoconf<span class="w"> </span>cmake
</code></pre></div>
<p>The <code>adios2</code> module automatically loads the related <code>kokkos</code> module. Please note that the <code>adios2</code> module provided by ALCF does not support HDF5.</p>
<p>I would recommend saving the module configuration for easy loading within the PBS job:
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>save<span class="w"> </span>entity
</code></pre></div></p>
<p>You can compile <code>entity</code> with:</p>
<div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">pgen</span><span class="o">=</span>&lt;your_pgen&gt;<span class="w"> </span>-D<span class="w"> </span><span class="nv">precision</span><span class="o">=</span>single<span class="w"> </span>-D<span class="w"> </span><span class="nv">mpi</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">output</span><span class="o">=</span>ON<span class="w"> </span>-DCMAKE_C_COMPILER<span class="o">=</span>mpicc<span class="w"> </span>-DCMAKE_CXX_COMPILER<span class="o">=</span>mpicxx
</code></pre></div>
<p><strong>Running entity</strong></p>
<p>Aurora uses <a href="https://docs.alcf.anl.gov/running-jobs/?h=pbs">PBS</a> for workload management.
The Intel PVC GPUs are split into two tiles each and it is recommended to launch one MPI rank per tile.</p>
<div class="language-sh highlight"><pre><span></span><code><span class="ch">#!/bin/bash -l</span>
<span class="c1">#PBS -A &lt;project_name&gt;</span>
<span class="c1">#PBS -N &lt;job_name&gt;</span>
<span class="c1">#PBS -l select=1                # number of nodes to use</span>
<span class="c1">#PBS -l walltime=00:05:00</span>
<span class="c1">#PBS -l filesystems=flare       # replace with the filesystem of your project</span>
<span class="c1">#PBS -k doe</span>
<span class="c1">#PBS -l place=scatter</span>
<span class="c1">#PBS -q debug</span>

<span class="nv">NTOTRANKS</span><span class="o">=</span><span class="m">12</span><span class="w">        </span><span class="c1"># 2*6*N_nodes - updated with your requested number</span>
<span class="nv">NRANKS_PER_NODE</span><span class="o">=</span><span class="m">12</span><span class="w">  </span><span class="c1"># 2*6  - always the same</span>

<span class="c1"># change to directory from which job was submitted</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$PBS_O_WORKDIR</span>

<span class="c1"># load all modules defined above</span>
module<span class="w"> </span>restore<span class="w"> </span>entity

<span class="c1"># only relevant for CPU pinning and to avoid Kokkos complaints</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_PROC_BIND</span><span class="o">=</span>spread

mpiexec<span class="w"> </span>--envall<span class="w"> </span>-n<span class="w"> </span><span class="si">${</span><span class="nv">NTOTRANKS</span><span class="si">}</span><span class="w"> </span>--ppn<span class="w"> </span><span class="si">${</span><span class="nv">NRANKS_PER_NODE</span><span class="si">}</span><span class="w"> </span>./gpu_tile_compact.sh<span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>weibel.toml
</code></pre></div>
<p>To run it you need to define a script <code>gpu_tile_compact.sh</code> in the same folder as your executable. It should look like this:</p>
<div class="language-sh highlight"><pre><span></span><code><span class="ch">#!/bin/bash -l</span>
<span class="nv">num_gpu</span><span class="o">=</span><span class="m">6</span>
<span class="nv">num_tile</span><span class="o">=</span><span class="m">2</span>
<span class="nv">gpu_id</span><span class="o">=</span><span class="k">$((</span><span class="w"> </span><span class="o">(</span><span class="nv">PALS_LOCAL_RANKID</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">num_tile</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nv">num_gpu</span><span class="w"> </span><span class="k">))</span>
<span class="nv">tile_id</span><span class="o">=</span><span class="k">$((</span><span class="nv">PALS_LOCAL_RANKID</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nv">num_tile</span><span class="k">))</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ZE_ENABLE_PCI_ID_DEVICE_ORDER</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ZE_AFFINITY_MASK</span><span class="o">=</span><span class="nv">$gpu_id</span>.<span class="nv">$tile_id</span>

<span class="c1"># reports the GPU tile pinning</span>
<span class="nb">echo</span><span class="w"> </span>RANK<span class="o">=</span><span class="w"> </span><span class="nv">$PALS_RANKID</span><span class="w"> </span><span class="nv">LOCAL_RANK</span><span class="o">=</span><span class="w"> </span><span class="nv">$PALS_LOCAL_RANKID</span><span class="w"> </span><span class="nv">gpu</span><span class="o">=</span><span class="w"> </span><span class="nv">$gpu_id</span>.<span class="nv">$tile_id</span>
<span class="c1"># runs the actual job</span>
<span class="nb">exec</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
</code></pre></div>
<p><em>Last updated: 8/11/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://www.lumi-supercomputer.eu/"><code>LUMI</code></a> cluster is located in Finland. It is equipped with 2978 nodes with 4 AMD MI250x GPUs and a single 64 cores AMD EPYC "Trento" CPU. The required modules to be loaded are:</p>
<p><strong>Compiling &amp; running the code</strong></p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>PrgEnv-cray
module<span class="w"> </span>load<span class="w"> </span>cray-mpich
module<span class="w"> </span>load<span class="w"> </span>craype-accel-amd-gfx90a
module<span class="w"> </span>load<span class="w"> </span>rocm
module<span class="w"> </span>load<span class="w"> </span>cray-hdf5-parallel/1.12.2.11
</code></pre></div>
<p>The configuration command is standard. The <code>Kokkos</code> library, along with <code>adios2</code>, will be installed from code dependencies directly at compilation. It is also important to provide the <code>c++</code> and <code>c</code> compilers manually with environemntal variables <code>CC</code> and <code>cc</code> (they are already predefined given that all the modules mentioned above were loaded). So far, gpu-aware mpi is not supported on <code>LUMI</code>. The configuration command is the following:
<div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">pgen</span><span class="o">=</span>turbulence<span class="w"> </span>-D<span class="w"> </span><span class="nv">mpi</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_HIP</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH_AMD_GFX90A</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_COMPILER</span><span class="o">=</span>CC<span class="w"> </span>-D<span class="w"> </span><span class="nv">CMAKE_C_COMPILER</span><span class="o">=</span>cc<span class="w"> </span>-D<span class="w"> </span><span class="nv">gpu_aware_mpi</span><span class="o">=</span>OFF
</code></pre></div></p>
<p>The example submit script:</p>
<div class="language-slurm highlight"><pre><span></span><code><span class="ch">#!/bin/bash -l</span>
<span class="kp">#SBATCH --job-name=examplejob   # Job name</span>
<span class="kp">#SBATCH --output=test.out # Name of stdout output file</span>
<span class="kp">#SBATCH --error=test.err  # Name of stderr error file</span>
<span class="kp">#SBATCH --partition=standard-g  # partition name</span>
<span class="kp">#SBATCH --nodes=8               # Total number of nodes </span>
<span class="kp">#SBATCH --ntasks-per-node=8     # 8 MPI ranks per</span>
<span class="kp">#SBATCH --gpus-per-node=8</span>
<span class="kp">##SBATCH --mem=0</span>
<span class="kp">#SBATCH --time=48:00:00       # Run time (d-hh:mm:ss)</span>
<span class="kp">#SBATCH --account=project_&lt;NUMBER&gt;  # Project for billing</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MPICH_GPU_SUPPORT_ENABLED</span><span class="o">=</span><span class="m">1</span>
<span class="nb">srun</span><span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUT&gt;.toml
</code></pre></div>
<p><em>Last updated: 6/19/2025</em></p>
</div>
<div class="tabbed-block">
<p>Trillium is a large parallel cluster built by Lenovo Canada and hosted by SciNet at the University of Toronto, the GPU subcluster has 61 nodes each with 4 x Nvidia H100 SXM (80 GB memory) (HOPPER90 architecture) and 1 x AMD EPYC 9654 (Zen 4) @ 2.4 GHz, 384MB cache L3 (96 cores). <code>Entity</code> works largely out of the box on trillium with the exception of the HDF5 format and requiring GPU aware MPI to disabled. </p>
<p><strong>Compiling &amp; running the code</strong>
The following modules are confirmed to have worked for building, compilation, running and restarting</p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>gcc/12.3<span class="w"> </span>cmake/3.31.0<span class="w"> </span>cuda/12.6<span class="w"> </span>openmpi/4.1.5
</code></pre></div>
<p>To disable hdf5, modify the following file in the entity source directory</p>
<div class="language-sh highlight"><pre><span></span><code>/path_to_src/entity/cmake/adios2Config.cmake
</code></pre></div>
<p>changing
<div class="language-cmake highlight"><pre><span></span><code><span class="c"># Format/compression support</span>
<span class="nb">set</span><span class="p">(</span><span class="s">ADIOS2_USE_HDF5</span>
<span class="w">  </span><span class="s">OFF</span><span class="w"> </span><span class="c"># &lt;-- set this to OFF</span>
<span class="w">  </span><span class="s">CACHE</span><span class="w"> </span><span class="s">BOOL</span><span class="w"> </span><span class="s2">&quot;Use HDF5 for ADIOS2&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p>When configuring ensure to set the flag</p>
<div class="language-sh highlight"><pre><span></span><code>-D<span class="w"> </span><span class="nv">gpu_aware_mpi</span><span class="o">=</span>OFF<span class="w">    </span>
</code></pre></div>
<p>as the nodes are not properly configured to perform gpu to gpu direct communication (the code will still run, but errors will arise at mesh block boundaries, and the code itself will run much slower).</p>
<p>A typical pbs script for running entity on the gpu subcluster is</p>
<div class="language-sh highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH --nodes=2</span>
<span class="c1">#SBATCH --gpus-per-node=4</span>
<span class="c1">#SBATCH --ntasks-per-node=4  # Keep all GPUs active</span>
<span class="c1">#SBATCH --time=23:59:59</span>
<span class="c1">#SBATCH --partition=compute_full_node</span>
<span class="c1">#SBATCH -o outjob_test.o%j</span>
<span class="c1">#SBATCH -e outjob_test.e%j</span>
<span class="c1">#SBATCH -J test</span>

module<span class="w"> </span>load<span class="w"> </span>gcc/12.3<span class="w"> </span>cmake/3.31.0<span class="w"> </span>cuda/12.6<span class="w"> </span>openmpi/4.1.5

mpirun<span class="w"> </span>--map-by<span class="w"> </span>ppr:4:node<span class="w"> </span>--bind-to<span class="w"> </span>core<span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>fluxtube.toml
</code></pre></div>
<p>where here we have requested 2x4 gpus for the full 24 hour wall time. Note one can request 1, 4, and 8 gpus for brief interactive debug jobs with</p>
<div class="language-text highlight"><pre><span></span><code>$debugjob
$debugjob 1
$debugjob 2
</code></pre></div>
<p>To pip install the version of nt2py which works with the adios2 output format you will need to load the following modules</p>
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>python<span class="w"> </span>texlive<span class="w"> </span>gcc<span class="w"> </span>arrow/21.0.0<span class="w">  </span>
</code></pre></div>
<p><em>Last updated: 9/12/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://www.sherlock.stanford.edu/docs/tech/#resources"><code>Sherlock</code></a> is a cluster at Stanford University with GPU compute nodes featuring GPUs with several different NVIDIA architectures. 
The easiest way to set things up on <code>Sherlock</code> is to build your own <code>ADIOS2</code>:
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>gcc/12.4.0<span class="w"> </span>openmpi/5.0.5<span class="w"> </span>cmake/3.31.4
cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_STANDARD</span><span class="o">=</span><span class="m">17</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_CXX_EXTENSIONS</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_POSITION_INDEPENDENT_CODE</span><span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">BUILD_SHARED_LIBS</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_Python</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_Fortran</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_ZeroMQ</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">BUILD_TESTING</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_BUILD_EXAMPLES</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_MPI</span><span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">ADIOS2_USE_HDF5</span><span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-D<span class="w"> </span><span class="nv">CMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="nv">$HOME</span>/modules/adios2_mpi
cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j<span class="w"> </span><span class="k">$(</span>nproc<span class="k">)</span>
cmake<span class="w"> </span>--install<span class="w"> </span>build
</code></pre></div>
Add the installed <code>ADIOS2</code> as a modulefile as <a href="../../1-getting-started/2-dependencies/#__tabbed_2_3">described here</a> (e.g., as <code>adios/mpi</code>). <code>Kokkos</code> can be quickly compiled in-tree, so no need to build it separately. For the compilation of the code itself, load the following modules:
<div class="language-sh highlight"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>gcc/12.4.0<span class="w"> </span>cuda/12.6.0<span class="w"> </span>openmpi/5.0.5
</code></pre></div>
Then, simply compile the code with the following command:
<div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">mpi</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">Kokkos_ENABLE_CUDA</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">Kokkos_ARCH_HOPPER90</span><span class="o">=</span>ON
cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j<span class="w"> </span><span class="k">$(</span>nproc<span class="k">)</span>
</code></pre></div>
This particular configuration is for the H100 (Hopper) nodes.
<div class="language-slurm highlight"><pre><span></span><code><span class="kp">#SBATCH -C GPU_CC:9.0</span>
<span class="kp">#SBATCH -p gpu</span>
<span class="kp">#SBATCH -G 1</span>
<span class="kp">#SBATCH -c 2</span>
<span class="kp">#SBATCH --mem=32GB</span>
module<span class="w"> </span>purge
module<span class="w"> </span>use<span class="w"> </span>--append<span class="w"> </span>/home/users/&lt;USERNAME&gt;/modules/.modfiles/
module<span class="w"> </span>load<span class="w"> </span>gcc/12.4.0
module<span class="w"> </span>load<span class="w"> </span>cuda/12.6.0
module<span class="w"> </span>load<span class="w"> </span>openmpi/5.0.5
module<span class="w"> </span>load<span class="w"> </span>adios/mpi
<span class="c1"># either</span>
mpiexec<span class="w"> </span>-np<span class="w"> </span>...<span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUTFILE&gt;
<span class="c1"># or</span>
<span class="nb">srun</span><span class="w"> </span>./entity.xc<span class="w"> </span>-input<span class="w"> </span>&lt;INPUTFILE&gt;
</code></pre></div></p>
<p><code>nt2py</code> has some known issues on this cluster, and might not work out of the box. However, you can make it work using the following steps.</p>
<p>First, load a proper <code>conda</code> module (preferably with <code>python3 &gt;= 3.10</code>) and make a virtual environment: </p>
<div class="language-sh highlight"><pre><span></span><code>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
<span class="nb">source</span><span class="w"> </span>.venv/bin/activate
</code></pre></div>
<p>Manually install <code>pyarrow</code> version 20:</p>
<div class="language-sh highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">pyarrow</span><span class="o">=</span><span class="m">20</span>
</code></pre></div>
<p>Now install <code>nt2py</code> (without the <code>hdf5</code> support, since for some reason the compute node on which jupyter kernels are run cannot find the <code>HDF5</code> library):
<div class="language-sh highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>nt2py
</code></pre></div></p>
<p>When launching the jupyter kernels from the on-demand service, specify the following modules to load: <code>gcc/12.4.0</code> and <code>ucc</code>.</p>
<p><em>Last updated: 22/12/2025</em></p>
</div>
<div class="tabbed-block">
<p><a href="https://docs.alcf.anl.gov/aurora/"><code>SuperMUC-NG2</code></a> uses <a href="https://www.intel.com/content/www/us/en/products/sku/232873/intel-data-center-gpu-max-1550/specifications.html">Intel PVC</a> nodes with 4 GPUs/node. Each PVC has 128GB of memory and is split into 2 tiles. It is recommended to use 1 MPI rank per tile, so 2 per GPU and 8 per node.
Development of entity for <code>SuperMUC</code> is currently ongoing. Use the following docs with caution and check in with <code>@LudwigBoess</code> on potential changes.</p>
<p><strong>Modules to load</strong></p>
<p>You can load the installed dependencies with</p>
<div class="language-sh highlight"><pre><span></span><code><span class="c1"># old</span>
<span class="c1"># ml cmake</span>
<span class="c1"># module load cmake gcc/14.2.0</span>
<span class="c1"># source /lrz/sys/intel/oneapi_2025.3.0/setvars.sh &amp;&gt; /dev/null</span>

<span class="c1"># new </span>
module<span class="w"> </span>sw<span class="w"> </span>stack/24.5.0
module<span class="w"> </span>load<span class="w"> </span>cmake<span class="w"> </span>gcc/14.2.0
module<span class="w"> </span>load<span class="w"> </span>intel-toolkit/2025.2.0
</code></pre></div>
<p><strong>Building the dependencies</strong></p>
<p>Please note that SuperMUC does not have direct access to the internet, so you have to set up a proxy and reverse tunnel (<a href="https://doku.lrz.de/faq-installing-your-own-applications-on-supermug-ng-behind-a-firewall-10746066.html#FAQ:InstallingyourownapplicationsonSuperMUGNG(behindafirewall)-CreateareverseSSHtunnelforinternetaccessfromSuperMUC-NGloginnode">docs</a>).</p>
<p>Big thanks to Martin at LRZ support for setting up the following build script for entity's dependencies:</p>
<div class="language-sh highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">INSTALL_DIR</span><span class="o">=</span><span class="s2">&quot;/path/where/you/want/the/install&quot;</span><span class="w"> </span><span class="c1"># change!</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">KOKKOS_VERSION</span><span class="o">=</span><span class="s2">&quot;4.7.00&quot;</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">ADIOS2_VERSION</span><span class="o">=</span><span class="s2">&quot;v2.10.2&quot;</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">NUM_BUILD_THREADS</span><span class="o">=</span><span class="m">40</span>

<span class="c1">#set -e</span>

module<span class="w"> </span>load<span class="w"> </span>cmake<span class="w"> </span>gcc/14.2.0
<span class="nb">source</span><span class="w"> </span>/lrz/sys/intel/oneapi_2025.2.0/setvars.sh<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null
<span class="nb">export</span><span class="w"> </span><span class="nv">CC</span><span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>icx<span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">CXX</span><span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>icpx<span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">FC</span><span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>ifx<span class="k">)</span>

install_kokkos<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-d<span class="w"> </span>kokkos-src<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/kokkos/kokkos.git<span class="w"> </span>kokkos-src
<span class="w">    </span><span class="nb">cd</span><span class="w"> </span>kokkos-src
<span class="w">    </span>git<span class="w"> </span>checkout<span class="w"> </span><span class="nv">$KOKKOS_VERSION</span>
<span class="w">    </span><span class="nb">cd</span><span class="w"> </span>..
<span class="k">fi</span>

rm<span class="w"> </span>-rf<span class="w"> </span>build-kokkos

cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="nv">$INSTALL_DIR</span>/kokkos<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DBUILD_SHARED_LIBS<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ARCH_INTEL_PVC<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ARCH_SPR<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ENABLE_EXAMPLES<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ENABLE_ONEDPL<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ENABLE_OPENMP<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ENABLE_SERIAL<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ENABLE_SYCL<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DKokkos_ENABLE_SYCL_RELOCATABLE_DEVICE_CODE<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-B<span class="w"> </span>build-kokkos<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-S<span class="w"> </span>kokkos-src

cmake<span class="w"> </span>--build<span class="w"> </span>build-kokkos<span class="w"> </span>-j<span class="w"> </span><span class="nv">$NUM_BUILD_THREADS</span>

cmake<span class="w"> </span>--install<span class="w"> </span>build-kokkos
<span class="o">}</span>


install_adios2<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-d<span class="w"> </span>adios2-src<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ornladios/ADIOS2.git<span class="w"> </span>adios2-src
<span class="w">    </span><span class="nb">cd</span><span class="w"> </span>adios2-src
<span class="w">    </span>git<span class="w"> </span>checkout<span class="w"> </span><span class="nv">$ADIOS2_VERSION</span>
<span class="w">    </span><span class="nb">cd</span><span class="w"> </span>..
<span class="k">fi</span>

rm<span class="w"> </span>-rf<span class="w"> </span>build-adios2

cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="nv">$INSTALL_DIR</span>/adios2<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_C_COMPILER<span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>mpiicx<span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_CXX_COMPILER<span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>mpiicpx<span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_Fortran_COMPILER<span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>mpiifx<span class="k">)</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_POSITION_INDEPENDENT_CODE<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_AWSSDK<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_Blosc2<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_BZip2<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_DataSpaces<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_HDF5<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_MPI<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_PNG<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_Python<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_SST<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_SZ<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_ZFP<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_Catalyst<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_LIBPRESSIO<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_CUDA<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_Kokkos<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DBUILD_TESTING<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_BUILD_EXAMPLES<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_Endian_Reverse<span class="o">=</span>ON<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_IME<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DADIOS2_USE_MGARD<span class="o">=</span>OFF<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_DISABLE_FIND_PACKAGE_BISON<span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-DCMAKE_DISABLE_FIND_PACKAGE_FLEX<span class="o">=</span>TRUE<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-B<span class="w"> </span>build-adios2<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-S<span class="w"> </span>adios2-src

cmake<span class="w"> </span>--build<span class="w"> </span>build-adios2<span class="w"> </span>-j<span class="w"> </span><span class="nv">$NUM_BUILD_THREADS</span>

cmake<span class="w"> </span>--install<span class="w"> </span>build-adios2

<span class="o">}</span>

<span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-d<span class="w"> </span><span class="nv">$INSTALL_DIR</span>/kokkos<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>install_kokkos
<span class="nb">export</span><span class="w"> </span><span class="nv">CMAKE_PREFIX_PATH</span><span class="o">=</span><span class="nv">$CMAKE_PREFIX_PATH</span>:<span class="nv">$INSTALL_DIR</span>/kokkos/lib64/cmake

<span class="o">[</span><span class="w"> </span>!<span class="w"> </span>-d<span class="w"> </span><span class="nv">$INSTALL_DIR</span>/adios2<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>install_adios2
<span class="nb">export</span><span class="w"> </span><span class="nv">CMAKE_PREFIX_PATH</span><span class="o">=</span><span class="nv">$CMAKE_PREFIX_PATH</span>:<span class="nv">$INSTALL_DIR</span>/adios2/lib64/cmake
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:<span class="nv">$INSTALL_DIR</span>/adios2/lib64

<span class="c1">#[ ! -d $INSTALL_DIR/entity ] &amp;&amp; install_entity</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot; If this builds without errors: Congratulations!&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot; Please set your envirnoment as follows:&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;    module load cmake gcc/14.2.0&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;    source /lrz/sys/intel/oneapi_2025.2.0/setvars.sh &amp;&gt; /dev/null&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;    export LD_LIBRARY_PATH=\$LD_LIBRARY_PATH:</span><span class="nv">$INSTALL_DIR</span><span class="s2">/adios2/lib64&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;    export PATH=\$PATH:</span><span class="nv">$INSTALL_DIR</span><span class="s2">/entity/bin&quot;</span>
</code></pre></div>
<p>Please note that this version of <code>adios2</code> is installed without <code>HDF5</code> support!</p>
<p>You can compile <code>entity</code> with:</p>
<div class="language-sh highlight"><pre><span></span><code>cmake<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-D<span class="w"> </span><span class="nv">pgen</span><span class="o">=</span>streaming<span class="w"> </span>-D<span class="w"> </span><span class="nv">precision</span><span class="o">=</span>single<span class="w"> </span>-D<span class="w"> </span><span class="nv">mpi</span><span class="o">=</span>ON<span class="w"> </span>-D<span class="w"> </span><span class="nv">output</span><span class="o">=</span>OFF<span class="w"> </span>-Dgpu_aware_mpi<span class="o">=</span>OFF<span class="w"> </span>-DCMAKE_C_COMPILER<span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>mpiicx<span class="k">)</span><span class="w"> </span>-DCMAKE_CXX_COMPILER<span class="o">=</span><span class="k">$(</span>which<span class="w"> </span>mpiicpx<span class="k">)</span><span class="w"> </span>-DFETCHCONTENT_FULLY_DISCONNECTED<span class="o">=</span>ON

cmake<span class="w"> </span>--build<span class="w"> </span>build<span class="w"> </span>-j16
</code></pre></div>
<p><strong>Running entity</strong></p>
<p>This is an example SLURM script:</p>
<div class="language-sh highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH -J weibel</span>
<span class="c1">#SBATCH -o ./log/%N.%j.out</span>
<span class="c1">#SBATCH -D .</span>
<span class="c1">#SBATCH --partition=test</span>
<span class="c1">#SBATCH --nodes=1</span>
<span class="c1">#SBATCH --ntasks-per-node=8   # one task per tile</span>
<span class="c1">#SBATCH --account=&lt;project&gt;</span>
<span class="c1">#SBATCH --export=none</span>
<span class="c1">#SBATCH --time=00:30:00</span>

module<span class="w"> </span>load<span class="w"> </span>slurm_setup

module<span class="w"> </span>sw<span class="w"> </span>stack/24.5.0
module<span class="w"> </span>load<span class="w"> </span>cmake<span class="w"> </span>gcc/14.2.0
module<span class="w"> </span>load<span class="w"> </span>intel-toolkit/2025.2.0
<span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/dss/dsshome1/02/di38gak/libs/adios2/lib64
module<span class="w"> </span>list

<span class="nb">export</span><span class="w"> </span><span class="nv">I_MPI_OFFLOAD</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">I_MPI_OFFLOAD_RDMA</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">I_MPI_OFFLOAD_FAST_MEMCPY_COLL</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PSM3_RDMA</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">PSM3_GPUDIRECT</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="c1"># this will hopefully be fixed in the future</span>

<span class="c1"># this is just for debugging reasons</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">I_MPI_DEBUG</span><span class="o">=</span><span class="m">5</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_PROC_BIND</span><span class="o">=</span>spread<span class="w"> </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_PLACES</span><span class="o">=</span>threads
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">8</span>

<span class="nb">export</span><span class="w"> </span><span class="nv">ZE_FLAT_DEVICE_HIERARCHY</span><span class="o">=</span>FLAT
<span class="nb">export</span><span class="w"> </span><span class="nv">ONEAPI_DEVICE_SELECTOR</span><span class="o">=</span>level_zero:gpu

<span class="c1"># print configuration as sanit check</span>
mpiexec<span class="w"> </span>./entity.xc<span class="w"> </span>--kokkos-print-configuration<span class="w"> </span>-input<span class="w"> </span>weibel.toml
</code></pre></div>
<p><em>Last updated: 11/07/2025</em></p>
</div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Mind the dates</p>
<p>At the bottom of each section, there are tags indicating when was the last date this instruction was updated. Some of them may be outdated due to clusters being constantly updated and changed. If so, please feel free to reach out with questions or contribute updated instructions.</p>
</div>







  
  




  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021++, Entity dev team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/entity-toolkit/entity/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M216.29 158.39H137C97 147.9 6.51 150.63 6.51 233.18c0 30.09 15 51.23 35 61-25.1 23-37 33.85-37 49.21 0 11 4.47 21.14 17.89 26.81C8.13 383.61 0 393.35 0 411.65c0 32.11 28.05 50.82 101.63 50.82 70.75 0 111.79-26.42 111.79-73.18 0-58.66-45.16-56.5-151.63-63l13.43-21.55c27.27 7.58 118.7 10 118.7-67.89 0-18.7-7.73-31.71-15-41.07l37.41-2.84zm-63.42 241.9c0 32.06-104.89 32.1-104.89 2.43 0-8.14 5.27-15 10.57-21.54 77.71 5.3 94.32 3.37 94.32 19.11m-50.81-134.58c-52.8 0-50.46-71.16 1.2-71.16 49.54 0 50.82 71.16-1.2 71.16m133.3 100.51v-32.1c26.75-3.66 27.24-2 27.24-11V203.61c0-8.5-2.05-7.38-27.24-16.26l4.47-32.92H324v168.71c0 6.51.4 7.32 6.51 8.14l20.73 2.84v32.1zm52.45-244.31c-23.17 0-36.59-13.43-36.59-36.61s13.42-35.77 36.59-35.77c23.58 0 37 12.62 37 35.77s-13.42 36.61-37 36.61M512 350.46c-17.49 8.53-43.1 16.26-66.28 16.26-48.38 0-66.67-19.5-66.67-65.46V194.75c0-5.42 1.05-4.06-31.71-4.06V154.5c35.78-4.07 50-22 54.47-66.27h38.63c0 65.83-1.34 61.81 3.26 61.81H501v40.65h-60.56v97.15c0 6.92-4.92 51.41 60.57 26.84z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.indexes", "navigation.expand", "content.code.annotate", "content.code.copy", "content.tooltips", "header.autohide", "search.highlight"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>